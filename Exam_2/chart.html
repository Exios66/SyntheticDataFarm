<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Confusion Matrix Chart</title>
    <style>
        @media print {
            body {
                margin: 0;
                padding: 20px;
            }
            .chart-container {
                page-break-inside: avoid;
            }
        }
        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 20px;
            background: white;
        }
        .chart-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        svg {
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body>
    <div class="chart-container">
        <svg width="900" height="640" viewBox="0 0 900 640" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="title desc">
            <title id="title">Annotated Confusion Matrix</title>
            <desc id="desc">4-cell confusion matrix with labels, short explanations, and legend: True Positive, False Positive, False Negative, True Negative.</desc>

            <!-- Background -->
            <rect x="0" y="0" width="900" height="640" fill="#ffffff"/>

            <!-- Headers -->
            <text x="450" y="48" font-family="Segoe UI, Arial, sans-serif" font-size="20" font-weight="700" fill="#222" text-anchor="middle">Confusion Matrix</text>
            <text x="450" y="74" font-family="Segoe UI, Arial, sans-serif" font-size="13" fill="#444" text-anchor="middle">Predicted vs Actual — explanation &amp; annotated cells</text>

            <!-- Axis labels -->
            <text x="110" y="130" font-family="Segoe UI, Arial, sans-serif" font-size="15" fill="#222" font-weight="600">Actual</text>
            <text x="720" y="130" font-family="Segoe UI, Arial, sans-serif" font-size="15" fill="#222" transform="rotate(-90 720,130)" font-weight="600">Predicted</text>

            <!-- Matrix grid with proper borders -->
            <g stroke="#333" stroke-width="2" fill="none">
                <!-- Outer border -->
                <rect x="160" y="150" width="760" height="400" fill="none"/>
                
                <!-- Inner vertical line -->
                <line x1="540" y1="150" x2="540" y2="550"/>
                
                <!-- Inner horizontal line -->
                <line x1="160" y1="350" x2="920" y2="350"/>
            </g>
            
            <!-- Colored cells -->
            <rect x="160" y="150" width="380" height="200" fill="#dff6e7" stroke="none"/> <!-- TP -->
            <rect x="540" y="150" width="380" height="200" fill="#fdecea" stroke="none"/> <!-- FP -->
            <rect x="160" y="350" width="380" height="200" fill="#fff4e6" stroke="none"/> <!-- FN -->
            <rect x="540" y="350" width="380" height="200" fill="#e8f2ff" stroke="none"/> <!-- TN -->

            <!-- Quadrant titles -->
            <text x="350" y="175" font-family="Segoe UI, Arial, sans-serif" font-size="14" font-weight="700" fill="#0a7a2a" text-anchor="middle">True Positive (TP)</text>
            <text x="730" y="175" font-family="Segoe UI, Arial, sans-serif" font-size="14" font-weight="700" fill="#b40000" text-anchor="middle">False Positive (FP)</text>
            <text x="350" y="375" font-family="Segoe UI, Arial, sans-serif" font-size="14" font-weight="700" fill="#cc7000" text-anchor="middle">False Negative (FN)</text>
            <text x="730" y="375" font-family="Segoe UI, Arial, sans-serif" font-size="14" font-weight="700" fill="#0a4ea6" text-anchor="middle">True Negative (TN)</text>

            <!-- Explanations inside cells -->
            <g font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#0a7a2a">
                <text x="350" y="205" text-anchor="middle" font-weight="700">Hit / Power</text>
                <text x="350" y="225" text-anchor="middle">Model predicts positive</text>
                <text x="350" y="240" text-anchor="middle">and effect truly present.</text>
                <text x="350" y="255" font-style="italic">Reject H₀ correctly</text>
            </g>

            <g font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#8b0000">
                <text x="730" y="205" text-anchor="middle" font-weight="700">Type I Error / False Alarm</text>
                <text x="730" y="225" text-anchor="middle">Model predicts positive</text>
                <text x="730" y="240" text-anchor="middle">but no real effect exists.</text>
                <text x="730" y="255" font-style="italic">Probability: α (alpha)</text>
            </g>

            <g font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#cc7000">
                <text x="350" y="405" text-anchor="middle" font-weight="700">Type II Error / Miss</text>
                <text x="350" y="425" text-anchor="middle">Model predicts negative</text>
                <text x="350" y="440" text-anchor="middle">but an effect truly exists.</text>
                <text x="350" y="455" font-style="italic">Probability: β (beta)</text>
                <text x="350" y="470" font-style="italic">Power = 1 − β</text>
            </g>

            <g font-family="Segoe UI, Arial, sans-serif" font-size="11" fill="#0a4ea6">
                <text x="730" y="405" text-anchor="middle" font-weight="700">Correct Rejection</text>
                <text x="730" y="425" text-anchor="middle">Model predicts negative</text>
                <text x="730" y="440" text-anchor="middle">and there is no true effect.</text>
                <text x="730" y="455" font-style="italic">Desirable when null holds</text>
            </g>

            <!-- Row/Column headings -->
            <text x="110" y="195" font-family="Segoe UI, Arial, sans-serif" font-size="13" fill="#333" font-weight="600">Actual Positive</text>
            <text x="110" y="405" font-family="Segoe UI, Arial, sans-serif" font-size="13" fill="#333" font-weight="600">Actual Negative</text>

            <text x="340" y="136" font-family="Segoe UI, Arial, sans-serif" font-size="13" fill="#333" font-weight="600" text-anchor="middle">Predicted Positive</text>
            <text x="740" y="136" font-family="Segoe UI, Arial, sans-serif" font-size="13" fill="#333" font-weight="600" text-anchor="middle">Predicted Negative</text>

            <!-- Legend -->
            <g transform="translate(60,520)">
                <rect x="0" y="0" width="780" height="100" fill="#fafafa" stroke="#ddd" stroke-width="1" rx="8" />
                <text x="14" y="22" font-family="Segoe UI, Arial, sans-serif" font-size="14" font-weight="700" fill="#222">Legend &amp; Quick formulas</text>

                <g>
                    <rect x="14" y="34" width="16" height="12" fill="#dff6e7" stroke="#bbb" stroke-width="0.5"/>
                    <text x="36" y="44" font-family="Segoe UI, Arial, sans-serif" font-size="12" fill="#222">TP (Hit) — correct detection (power)</text>

                    <rect x="260" y="34" width="16" height="12" fill="#fdecea" stroke="#bbb" stroke-width="0.5"/>
                    <text x="282" y="44" font-family="Segoe UI, Arial, sans-serif" font-size="12" fill="#222">FP — Type I error (α)</text>

                    <rect x="470" y="34" width="16" height="12" fill="#fff4e6" stroke="#bbb" stroke-width="0.5"/>
                    <text x="492" y="44" font-family="Segoe UI, Arial, sans-serif" font-size="12" fill="#222">FN — Type II error (β)</text>

                    <rect x="650" y="34" width="16" height="12" fill="#e8f2ff" stroke="#bbb" stroke-width="0.5"/>
                    <text x="672" y="44" font-family="Segoe UI, Arial, sans-serif" font-size="12" fill="#222">TN — correct rejection</text>
                </g>

                <!-- Quick metrics -->
                <text x="14" y="72" font-family="Segoe UI, Arial, sans-serif" font-size="12" fill="#111">
                    Power = TP / (TP + FN)  |  Type I error rate = FP / (FP + TN) = α
                </text>
                <text x="14" y="92" font-family="Segoe UI, Arial, sans-serif" font-size="12" fill="#111">
                    Positive Predictive Value (PPV) = TP / (TP + FP)
                </text>
            </g>

            <!-- Annotations: arrows -->
            <defs>
                <marker id="arrow" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto" markerUnits="strokeWidth">
                    <path d="M0,0 L8,4 L0,8 z" fill="#666"/>
                </marker>
            </defs>

            <line x1="700" y1="200" x2="820" y2="200" stroke="#b40000" stroke-width="2" marker-end="url(#arrow)" />
            <text x="824" y="204" font-family="Segoe UI, Arial, sans-serif" font-size="12" fill="#b40000">α (Type I rate)</text>

            <line x1="380" y1="460" x2="240" y2="520" stroke="#cc7000" stroke-width="2" marker-end="url(#arrow)" />
            <text x="160" y="528" font-family="Segoe UI, Arial, sans-serif" font-size="12" fill="#444">β (Type II) ↓ → Power ↑</text>
        </svg>
    </div>
</body>
</html>